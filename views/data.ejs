<%- include('./partials/header.ejs') %> <%- include('./partials/navbar.ejs') %>

<h1 class="heading">Students Data</h1>
<div style="display: flex; flex-direction: row; justify-content: space-between; margin: 10px 20px">
  <h4>Students Count : <%= count %></h4>
  <form action="/form" method="get"><button type="submit" class="btn btn-success">Add</button></form>
</div>

<table class="table">
  <thead class="table-dark">
    <tr>
      <th scope="col">Sr.No.</th>
      <th scope="col">Roll No.</th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
      <th scope="col">Age</th>
      <th scope="col">Gender</th>
      <th scope="col">Branch</th>
      <th scope="col">Percentage</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <% var i = 1; %> <% Data.forEach((item) => { %>
    <tr>
      <th scope="row"><%= i++ %></th>
      <td><%= item.rollNo %></td>
      <td><%= item.firstName %></td>
      <td><%= item.lastName %></td>
      <td><%= item.age %></td>
      <td><%= item.gender %></td>
      <td><%= item.branch %></td>
      <td><%= item.percent %> %</td>
      <td>
        <div>
          <form action="/edit/<%= item._id %>" method="get">
            <button type="submit" class="btn btn-info px-1 py-0">Edit</button>
          </form>
          <form action="/delete/<%= item._id %>" method="post">
            <button type="submit" class="btn btn-danger px-1 py-0">
              Delete
            </button>
          </form>
        </div>
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>
<%- include('./partials/footer.ejs') %>
